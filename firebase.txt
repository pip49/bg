sudo apt install curl



/// NVM 설치스크립트 실행
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash

/// 터미널에 NVM 적용: 설치 후 터미널을 다시 시작하거나 다음 명령어를 실행하여 NVM을 현재 세션에 적용
source ~/.bashrc  # 또는 source ~/.profile

/// Node.js 버전 다운그레이드
nvm install 12
nvm use 12

/// 버전확인
node -v  # v12.x.x 와 같이 출력되면 성공

/// Firebase CLI 버전 다운그레이드-호환되는 Firebase CLI v11.20.0 설치
npm install -g firebase-tools@11.20.0

또는
npm install -g firebase-tools

이 단계에서 npm WARN notsup 경고가 나타나지만, 설치 자체는 성공하므로 무시하고 다음 단계로 진행

/// Firebase CLI 로그인 (포트 문제 우회)
로컬 포트(localhost:9005) 연결 문제로 인해 브라우저 인증이 실패하는 것을 방지하기 위해, 토큰 수동 입력 방식으로 로그인합니다.

토큰 방식 로그인 명령어 실행
firebase login --no-localhost



/// 브라우저 인증:

터미널에 표시된 URL을 브라우저에 복사하여 접속합니다.

세션 ID를 확인한 후 **"Yes"**를 클릭합니다.

Google 계정을 선택하고 권한을 허용합니다.

토큰 복사 및 입력:

브라우저에 표시된 **인증 토큰(긴 문자열)**을 복사합니다.

터미널로 돌아와 Enter authorization code: 프롬프트에 토큰을 붙여넣고 Enter를 누릅니다.

Success! Logged in as... 메시지가 나타나면 로그인 성공

///프로젝트 초기화 및 설정 (프로젝트 루트 디렉터리에서 실행)
배포할 웹사이트 파일들이 있는 로컬 폴더의 최상위(프로젝트 루트 디렉터리)로 이동하여 실행합니다.

초기화 명령어 실행:
firebase init

프롬프트 응답:

Hosting... 선택

Use an existing project 선택 후, 프로젝트 ID 선택

Public directory 질문에 html 입력

Single-page app 질문에 No 또는 Yes 선택  (정적웹사이트를 만들것이므로 no)

GitHub 연동 질문에 No 선택

확인: 이 단계 후, firebase.json과 .firebaserc 파일이 이 폴더(프로젝트 루트 디렉터리)에 생성되었는지 ls -a로 확인합니다.


///웹사이트 파일 준비
초기화 시 지정한 폴더(예: html/) 안에 배포하려는 index.html, 404.html 및 모든 CSS/JS/이미지 파일을 배치

/// Hosting에 배포 실행
최종적으로, 프로젝트 루트 디렉터리에서 다음 명령어를 실행하여 웹사이트를 공개
firebase deploy --only hosting
firebase deploy --only hosting --project find-3a8b2
firebase init hosting --project profile-5d38a
firebase init hosting --project blues100
firebase deploy --only hosting --project blues100


///////////////// 새프로젝트 만들기 ///////////////////////////

Firebase 프로젝트 만들기 ( 도구 설치가 끝난 상태에서..)



1. 구글 firebase 콘솔에 접속해서.. ‘새프로젝트 만들기’ 하여 프로젝트 이름을 정한다..

 
2. 터미널에서 firebase logout   입력한후 새로 만든 프로젝트명의 디렉토리를 만들어 이동한


3. 터미널에서 firebase login –no-localhost  입력한후 터미널에 보여진 URL을  ‘URL복사하기’ 로 복사하여
  
     브라우저에 입력후 계정선택후 보여지는 코드를 복사해서 터미널에서 복사한 코드를 입력한다..


4. 질문의 (public) 에서 엔터치고 그 다음은 no ,  no  로 넘어가서

     질문이 끝나면 폴더 안에 firebase.json 파일과 public 폴더가 생긴다


5. 새로 생긴 public 폴더안의 index.html 을 삭제하고 내가 실제 사용할 index.html 파일과 필요한 디렉토리,
    
     파일들을 만들고 저장한다.








******** 위의 방법으로 안될때..초기 설정 ***********

sudo apt update
sudo apt install nodejs npm


//////////////
////////////
/////////////////////Firebase CLI 설치 문제 요약 (Ubuntu 18.04 환경)
1. 초기 문제: Node.js 버전 불일치
발단: 처음 firebase init 시도 시, Firebase CLI v11.20.0이 현재 사용 중이던 Node.js v12.x와의 호환성 문제로 작동을 거부했습니다.

요구 사항: CLI가 Node.js v14.18.0 이상 또는 v16.4.0 이상을 요구했습니다.

2. 버전 업그레이드 충돌 및 재요구
시도: 문제 해결을 위해 npm install -g firebase-tools를 실행하면서 CLI가 v14.22.0으로 자동 업데이트되었습니다.

새로운 충돌: 이 최신 CLI는 더 높은 버전인 Node.js v20.0.0 이상을 요구하기 시작했습니다.

문제 해결 실패: 이후 Node.js를 v14.x로 낮추려 시도했지만, nvm use 후 전역 패키지가 사라져 firebase: 명령을 찾을 수 없습니다 오류가 반복되었습니다.

3. 구문 오류 (Syntax Error)
시도: 서버 안정성을 위해 Node.js v14.x를 사용하고 CLI 버전을 호환되는 v9.3.0으로 낮춰 재설치했습니다.

오류 원인: 그러나 Firebase CLI의 종속성 라이브러리 일부가 **ES2021 문법(||= 연산자)**을 사용하고 있었고, Node.js v14.x는 이 문법을 지원하지 않아 SyntaxError가 발생하며 CLI가 실행되지 않았습니다.

4. 핵심 문제: OS 라이브러리 충돌 (GLIBC)
시도: 구문 오류를 해결하기 위해 Node.js를 v18.x로 업그레이드하려 했습니다.

근본 원인 발견: 이 과정에서 Ubuntu 18.04의 기본 C 라이브러리 버전인 GLIBC 2.27이 최신 Node.js v18.x의 요구 사항인 GLIBC 2.28 이상을 충족하지 못하여 Node.js가 실행되지 못하는 치명적인 OS 호환성 오류가 발생했습니다.

5. 최종 해결책 및 성공
해결: Ubuntu 18.04 환경에서 안정적으로 사용 가능한 가장 높은 Node.js LTS 버전인 v16.x로 복귀했습니다.

최종 구성: Node.js v16.x 환경에서 Firebase CLI v11.20.0을 명시적으로 재설치하여 (v16.x 호환 및 최신 보안 인증 지원) 최종적으로 로그인 프롬프트에 도달하는 데 성공했습니다.

결론적으로 문제는 **'Ubuntu 18.04'**라는 제약 조건 하에서 Node.js와 Firebase CLI 버전 간의 복잡하고 다층적인 호환성 문제 때문에 발생했습니다. 최종적으로는 GLIBC 제약을 피할 수 있는 Node.js v16.x와 그와 호환되는 Firebase CLI v11.x를 선택하여 해결되었습니다.
